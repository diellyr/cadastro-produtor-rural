<section class="form ff-inter">
  <h1>Realize seu cadastro</h1>
  <form [formGroup]="form">
    <div class="content-form">
      <label for="cpfCnpj">CPF ou CNPJ</label>
      <input
        type="text"
        id="cpfCnpj"
        class="input"
        formControlName="cpfCnpjField"
        [value]="form.get('cpfCnpjField')?.value | cpfCnpjFormat"
        (input)="onInputChange($event)"
      >
      <div *ngIf="form.get('cpfCnpjField')?.errors && form.get('cpfCnpjField')?.touched && !(form.get('cpfCnpjField')?.dirty)" class="errors">Campo obrigatório</div>
      <div *ngIf="form.get('cpfCnpjField')?.errors?.['cpfCnpjInvalido'] && form.get('cpfCnpjField')?.dirty" class="errors">CPF ou CNPJ inválido.</div>
    </div>

    <div class="content-form">
      <label for="name">Nome do Produtor</label>
      <input
        type="text"
        id="name"
        class="input"
        formControlName="producerName"
      >
      <div *ngIf="form.get('producerName')?.errors && form.get('producerName')?.touched" class="errors">Campo obrigatório</div>
    </div>

    <div class="content-form">
      <label for="farm-name">Nome da Fazenda</label>
      <input
        type="text"
        id="farm-name"
        class="input"
        formControlName="farmName"
      >
      <div *ngIf="form.get('farmName')?.errors && form.get('farmName')?.touched" class="errors">Campo obrigatório</div>
    </div>

    <div class="content-selects">
      <div class="content-select-state">
        <label for="state">Estado</label>
        <select id="state" formControlName="state" class="custom-select">
          <option *ngFor="let state of states" [value]="state">{{ state }}</option>
        </select>
        <div *ngIf="form.get('state')?.errors && form.get('state')?.touched" class="errors">Campo obrigatório</div>
      </div>

      <div class="content-select-city">
        <label for="city">Cidade</label>
        <select id="city" formControlName="city" class="custom-select">
          <option *ngFor="let city of cities" [value]="city">{{ city }}</option>
        </select>
        <div *ngIf="form.get('city')?.errors && form.get('city')?.touched" class="errors">Campo obrigatório</div>
      </div>
    </div>

    <div class="content-area">
      <div class="content-farm">
        <label for="farm-area">Área total da Fazenda <br>(em hectares)</label>
        <input
          type="string"
          id="farm-area"
          class="input-area"
          formControlName="farmArea"
        >
        <div *ngIf="form.get('farmArea')?.errors && form.get('farmArea')?.touched" class="errors">Campo obrigatório</div>
      </div>

      <div class="content-arable">
        <label for="arable-area">Área agricultável <br>(em hectares)</label>
        <input
          type="sting"
          id="arable-area"
          class="input-area"
          formControlName="arableArea"
        >
        <div *ngIf="form.get('arableArea')?.errors && form.get('arableArea')?.touched" class="errors">Campo obrigatório</div>
      </div>

      <div class="content-vegetation">
        <label for="vegetation-area">Área de vegetação <br>(em hectares)</label>
        <input
          type="string"
          id="vegetation-area"
          class="input-area"
          formControlName="vegetationArea"
        >
        <div *ngIf="form.get('vegetationArea')?.errors && form.get('vegetationArea')?.touched" class="errors">Campo obrigatório</div>
      </div>
    </div>

    <div class="content-planted-crops">
      <p>Culturas Plantadas:</p>
      <label for="planted-crops-milho" class="custom-checkbox">
        <input
          type="checkbox"
          formControlName="plantedCrops"
          id="planted-crops-milho"
        >Milho
      </label>
      <label for="planted-crops-soja" class="custom-checkbox">
        <input
          type="checkbox"
          formControlName="plantedCrops"
          id="planted-crops-soja"
        >Soja
      </label>
      <label for="planted-crops-trigo" class="custom-checkbox">
        <input
          type="checkbox"
          formControlName="plantedCrops"
          id="planted-crops-trigo"
        >Trigo
      </label>
      <label for="planted-crops-algodao" class="custom-checkbox">
        <input
          type="checkbox"
          formControlName="plantedCrops"
          id="planted-crops-algodao"
        >Algodão
      </label>
      <label for="planted-crops-check" class="custom-checkbox">
        <input
          type="checkbox"
          formControlName="plantedCrops"
          id="planted-crops-mandioca"
        >Mandioca
      </label>
      <div *ngIf="form.get('plantedCrops')?.errors && form.get('plantedCrops')?.touched" class="errors">Campo obrigatório</div>
    </div>

    <div class="buttons">
      <button class="button-register" (click)="register()">Cadastrar</button>
      <button class="button-cancel" (click)="cancel()">Cancelar</button>
    </div>

  </form>
</section>

<!--
  BUGS

  - Esta valindando CPF, mas não esta validando CNPJ

  - As cidades não estão vindo conforme o estado

  - Validação da area da fazenda em hectares
  - Validação da area de vegetação em hectares
  - Validação da area agricultavel em hectares

  - Checkbox com opções de culturas
  - Validação das culturas selecionadas
 -->
